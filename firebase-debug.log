[debug] [2023-06-04T17:59:39.299Z] ----------------------------------------------------------------------
[debug] [2023-06-04T17:59:39.299Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy
[debug] [2023-06-04T17:59:39.300Z] CLI Version:   11.14.3
[debug] [2023-06-04T17:59:39.300Z] Platform:      darwin
[debug] [2023-06-04T17:59:39.300Z] Node Version:  v16.17.1
[debug] [2023-06-04T17:59:39.304Z] Time:          Sun Jun 04 2023 20:59:39 GMT+0300 (GMT+03:00)
[debug] [2023-06-04T17:59:39.304Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-06-04T17:59:39.332Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-06-04T17:59:39.332Z] > authorizing via signed-in user (app.trinder@gmail.com)
[debug] [2023-06-04T17:59:39.332Z] [iam] checking project trinder-4pp for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]
[debug] [2023-06-04T17:59:39.333Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/trinder-4pp:testIamPermissions [none]
[debug] [2023-06-04T17:59:39.333Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/trinder-4pp:testIamPermissions x-goog-quota-user=projects/trinder-4pp
[debug] [2023-06-04T17:59:39.333Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/trinder-4pp:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2023-06-04T17:59:40.267Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/trinder-4pp:testIamPermissions 200
[debug] [2023-06-04T17:59:40.267Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/trinder-4pp:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2023-06-04T17:59:40.269Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/trinder-4pp/serviceAccounts/trinder-4pp@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-06-04T17:59:40.269Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/trinder-4pp/serviceAccounts/trinder-4pp@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-06-04T17:59:41.109Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/trinder-4pp/serviceAccounts/trinder-4pp@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-06-04T17:59:41.110Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/trinder-4pp/serviceAccounts/trinder-4pp@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-06-04T17:59:41.112Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp [none]
[debug] [2023-06-04T17:59:41.429Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp 200
[debug] [2023-06-04T17:59:41.429Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp {"projectId":"trinder-4pp","projectNumber":"432564282535","displayName":"trinder-4pp","name":"projects/trinder-4pp","resources":{"hostingSite":"trinder-4pp","storageBucket":"trinder-4pp.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_ffb7805e-3de1-447b-8c0e-7c92b3dd9c1b"}
[info] 
[info] === Deploying to 'trinder-4pp'...
[info] 
[info] i  deploying storage, firestore, functions, hosting 
[debug] [2023-06-04T17:59:41.433Z] >>> [apiv2][query] GET https://appengine.googleapis.com/v1/apps/trinder-4pp [none]
[debug] [2023-06-04T17:59:41.812Z] <<< [apiv2][status] GET https://appengine.googleapis.com/v1/apps/trinder-4pp 200
[debug] [2023-06-04T17:59:41.813Z] <<< [apiv2][body] GET https://appengine.googleapis.com/v1/apps/trinder-4pp {"name":"apps/trinder-4pp","id":"trinder-4pp","authDomain":"gmail.com","locationId":"europe-west","codeBucket":"staging.trinder-4pp.appspot.com","servingStatus":"SERVING","defaultHostname":"trinder-4pp.ew.r.appspot.com","defaultBucket":"trinder-4pp.appspot.com","serviceAccount":"trinder-4pp@appspot.gserviceaccount.com","gcrDomain":"eu.gcr.io","databaseType":"CLOUD_FIRESTORE","featureSettings":{"splitHealthChecks":true,"useContainerOptimizedOs":true}}
[info] i  firebase.storage: checking storage.rules for compilation errors... 
[debug] [2023-06-04T17:59:41.817Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/trinder-4pp:test [none]
[debug] [2023-06-04T17:59:41.817Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/trinder-4pp:test [omitted]
[debug] [2023-06-04T17:59:42.139Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/trinder-4pp:test 200
[debug] [2023-06-04T17:59:42.139Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/trinder-4pp:test {}
[info] ✔  firebase.storage: rules file storage.rules compiled successfully 
[info] i  firestore: reading indexes from firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore.rules for compilation errors... 
[debug] [2023-06-04T17:59:42.153Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/trinder-4pp:test [none]
[debug] [2023-06-04T17:59:42.153Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/trinder-4pp:test [omitted]
[debug] [2023-06-04T17:59:43.006Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/trinder-4pp:test 200
[debug] [2023-06-04T17:59:43.006Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/trinder-4pp:test {}
[info] ✔  cloud.firestore: rules file firestore.rules compiled successfully 
[debug] [2023-06-04T17:59:43.008Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp [none]
[debug] [2023-06-04T17:59:43.300Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp 200
[debug] [2023-06-04T17:59:43.300Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp {"projectId":"trinder-4pp","projectNumber":"432564282535","displayName":"trinder-4pp","name":"projects/trinder-4pp","resources":{"hostingSite":"trinder-4pp","storageBucket":"trinder-4pp.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_ffb7805e-3de1-447b-8c0e-7c92b3dd9c1b"}
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-06-04T17:59:43.303Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/trinder-4pp/services/cloudfunctions.googleapis.com [none]
[debug] [2023-06-04T17:59:43.303Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/trinder-4pp/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/trinder-4pp
[debug] [2023-06-04T17:59:43.305Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/trinder-4pp/services/runtimeconfig.googleapis.com [none]
[debug] [2023-06-04T17:59:43.306Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/trinder-4pp/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/trinder-4pp
[debug] [2023-06-04T17:59:43.309Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/trinder-4pp/services/cloudbuild.googleapis.com [none]
[debug] [2023-06-04T17:59:43.310Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/trinder-4pp/services/cloudbuild.googleapis.com x-goog-quota-user=projects/trinder-4pp
[debug] [2023-06-04T17:59:43.311Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/trinder-4pp/services/artifactregistry.googleapis.com [none]
[debug] [2023-06-04T17:59:43.311Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/trinder-4pp/services/artifactregistry.googleapis.com x-goog-quota-user=projects/trinder-4pp
[debug] [2023-06-04T17:59:44.412Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/trinder-4pp/services/runtimeconfig.googleapis.com 200
[debug] [2023-06-04T17:59:44.412Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/trinder-4pp/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-06-04T17:59:44.419Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/trinder-4pp/services/cloudbuild.googleapis.com 200
[debug] [2023-06-04T17:59:44.419Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/trinder-4pp/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-06-04T17:59:44.421Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/trinder-4pp/services/cloudfunctions.googleapis.com 200
[debug] [2023-06-04T17:59:44.421Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/trinder-4pp/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-06-04T17:59:44.422Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/trinder-4pp/services/artifactregistry.googleapis.com 200
[debug] [2023-06-04T17:59:44.422Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/trinder-4pp/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-06-04T17:59:44.422Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp/adminSdkConfig [none]
[debug] [2023-06-04T17:59:44.753Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp/adminSdkConfig 200
[debug] [2023-06-04T17:59:44.753Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp/adminSdkConfig {"projectId":"trinder-4pp","storageBucket":"trinder-4pp.appspot.com","locationId":"europe-west"}
[debug] [2023-06-04T17:59:44.754Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trinder-4pp/configs [none]
[debug] [2023-06-04T17:59:45.132Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trinder-4pp/configs 200
[debug] [2023-06-04T17:59:45.133Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trinder-4pp/configs {}
[info] i  functions: preparing codebase default for deployment 
[debug] [2023-06-04T17:59:45.139Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-06-04T17:59:45.869Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "@stripe/stripe-js": "^1.53.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "stripe": "^12.6.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-06-04T17:59:45.869Z] Building nodejs source
[debug] [2023-06-04T17:59:45.870Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-04T17:59:45.967Z] Serving at port 9005

[debug] [2023-06-04T17:59:46.013Z] Got response from /__/functions.yaml {"endpoints":{"purchasePackageUpdate":{"platform":"gcfv1","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/trinder-4pp/databases/(default)/documents/customers/{customerId}/subscriptions/{subscriptionId}"},"retry":false},"labels":{},"entryPoint":"purchasePackageUpdate"},"purchasePackageCreate":{"platform":"gcfv1","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/trinder-4pp/databases/(default)/documents/customers/{customerId}/subscriptions/{subscriptionId}"},"retry":false},"labels":{},"entryPoint":"purchasePackageCreate"},"cancelSubscription":{"platform":"gcfv1","labels":{},"callableTrigger":{},"entryPoint":"cancelSubscription"},"disableUser":{"platform":"gcfv1","labels":{},"callableTrigger":{},"entryPoint":"disableUser"},"deleteAdvert":{"platform":"gcfv1","labels":{},"callableTrigger":{},"entryPoint":"deleteAdvert"},"deleteComment":{"platform":"gcfv1","labels":{},"callableTrigger":{},"entryPoint":"deleteComment"},"deleteReport":{"platform":"gcfv1","labels":{},"callableTrigger":{},"entryPoint":"deleteReport"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-04T17:59:46.018Z] shutdown requested via /__/quitquitquit

[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/farukkavlak/Documents/GitHub/trinder-app/functions (60 KB) for uploading 
[debug] [2023-06-04T17:59:46.040Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/trinder-4pp/locations/-/functions [none]
[debug] [2023-06-04T17:59:46.613Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/trinder-4pp/locations/-/functions 200
[debug] [2023-06-04T17:59:46.613Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/trinder-4pp/locations/-/functions {"functions":[{"name":"projects/trinder-4pp/locations/us-central1/functions/cancelSubscription","httpsTrigger":{"url":"https://us-central1-trinder-4pp.cloudfunctions.net/cancelSubscription","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"cancelSubscription","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"trinder-4pp@appspot.gserviceaccount.com","updateTime":"2023-06-02T16:20:51.761Z","versionId":"12","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"ecff84d21f78bf3bd36c5c46f7dc9bdd22a1e50b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-1051769839353.us-central1.cloudfunctions.appspot.com/6fefdb98-121f-45b8-b844-58c7a66d4f4e.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"trinder-4pp\",\"storageBucket\":\"trinder-4pp.appspot.com\",\"locationId\":\"europe-west\"}","GCLOUD_PROJECT":"trinder-4pp"},"runtime":"nodejs16","ingressSettings":"ALLOW_ALL","buildId":"5c388f4b-cd77-475a-897a-59c34065c9d2","buildName":"projects/432564282535/locations/us-central1/builds/5c388f4b-cd77-475a-897a-59c34065c9d2","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/trinder-4pp/locations/us-central1/functions/deleteAdvert","httpsTrigger":{"url":"https://us-central1-trinder-4pp.cloudfunctions.net/deleteAdvert","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"deleteAdvert","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"trinder-4pp@appspot.gserviceaccount.com","updateTime":"2023-06-02T16:20:53.613Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"ecff84d21f78bf3bd36c5c46f7dc9bdd22a1e50b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-1051769839353.us-central1.cloudfunctions.appspot.com/6fefdb98-121f-45b8-b844-58c7a66d4f4e.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"trinder-4pp\",\"storageBucket\":\"trinder-4pp.appspot.com\",\"locationId\":\"europe-west\"}","GCLOUD_PROJECT":"trinder-4pp"},"runtime":"nodejs16","ingressSettings":"ALLOW_ALL","buildId":"5c388f4b-cd77-475a-897a-59c34065c9d2","buildName":"projects/432564282535/locations/us-central1/builds/5c388f4b-cd77-475a-897a-59c34065c9d2","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/trinder-4pp/locations/us-central1/functions/deleteComment","httpsTrigger":{"url":"https://us-central1-trinder-4pp.cloudfunctions.net/deleteComment","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"deleteComment","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"trinder-4pp@appspot.gserviceaccount.com","updateTime":"2023-06-02T16:20:53.554Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"ecff84d21f78bf3bd36c5c46f7dc9bdd22a1e50b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-1051769839353.us-central1.cloudfunctions.appspot.com/6fefdb98-121f-45b8-b844-58c7a66d4f4e.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"trinder-4pp\",\"storageBucket\":\"trinder-4pp.appspot.com\",\"locationId\":\"europe-west\"}","GCLOUD_PROJECT":"trinder-4pp"},"runtime":"nodejs16","ingressSettings":"ALLOW_ALL","buildId":"5c388f4b-cd77-475a-897a-59c34065c9d2","buildName":"projects/432564282535/locations/us-central1/builds/5c388f4b-cd77-475a-897a-59c34065c9d2","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/trinder-4pp/locations/us-central1/functions/deleteReport","httpsTrigger":{"url":"https://us-central1-trinder-4pp.cloudfunctions.net/deleteReport","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"deleteReport","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"trinder-4pp@appspot.gserviceaccount.com","updateTime":"2023-06-02T16:20:52.969Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"ecff84d21f78bf3bd36c5c46f7dc9bdd22a1e50b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-1051769839353.us-central1.cloudfunctions.appspot.com/6fefdb98-121f-45b8-b844-58c7a66d4f4e.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"trinder-4pp\",\"storageBucket\":\"trinder-4pp.appspot.com\",\"locationId\":\"europe-west\"}","GCLOUD_PROJECT":"trinder-4pp"},"runtime":"nodejs16","ingressSettings":"ALLOW_ALL","buildId":"5c388f4b-cd77-475a-897a-59c34065c9d2","buildName":"projects/432564282535/locations/us-central1/builds/5c388f4b-cd77-475a-897a-59c34065c9d2","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/trinder-4pp/locations/us-central1/functions/disableUser","httpsTrigger":{"url":"https://us-central1-trinder-4pp.cloudfunctions.net/disableUser","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"disableUser","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"trinder-4pp@appspot.gserviceaccount.com","updateTime":"2023-06-02T16:20:53.776Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"ecff84d21f78bf3bd36c5c46f7dc9bdd22a1e50b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-1051769839353.us-central1.cloudfunctions.appspot.com/6fefdb98-121f-45b8-b844-58c7a66d4f4e.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"trinder-4pp\",\"storageBucket\":\"trinder-4pp.appspot.com\",\"locationId\":\"europe-west\"}","GCLOUD_PROJECT":"trinder-4pp"},"runtime":"nodejs16","ingressSettings":"ALLOW_ALL","buildId":"5c388f4b-cd77-475a-897a-59c34065c9d2","buildName":"projects/432564282535/locations/us-central1/builds/5c388f4b-cd77-475a-897a-59c34065c9d2","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/trinder-4pp/locations/us-central1/functions/ext-firestore-algolia-search-executeFullIndexOperation","description":"Loads all the data from your FireStore database into Algolia","sourceArchiveUrl":"gs://firebase-mod-sources-prod/808836e874de0e15c6d20798d9ee3281e47a829d8cae6db1f5489237bd5cb9ea","httpsTrigger":{"url":"https://us-central1-trinder-4pp.cloudfunctions.net/ext-firestore-algolia-search-executeFullIndexOperation","securityLevel":"SECURE_OPTIONAL"},"status":"ACTIVE","entryPoint":"executeFullIndexOperation","timeout":"540s","availableMemoryMb":1024,"serviceAccountEmail":"ext-firestore-algolia-search@trinder-4pp.iam.gserviceaccount.com","updateTime":"2023-05-24T20:20:33.985Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-algolia-search","goog-firebase-ext":"firestore-algolia-search","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-algolia-search"},"environmentVariables":{"ALGOLIA_APP_ID":"5RDUI73FEQ","ALGOLIA_INDEX_NAME":"adverts","COLLECTION_PATH":"adverts","DATABASE_INSTANCE":"","DATABASE_URL":"","DO_FULL_INDEXING":"true","EXT_INSTANCE_ID":"firestore-algolia-search","FIREBASE_CONFIG":"{\"projectId\":\"trinder-4pp\",\"databaseURL\":\"\",\"storageBucket\":\"trinder-4pp.appspot.com\"}","FORCE_DATA_SYNC":"yes","GCLOUD_PROJECT":"trinder-4pp","LOCATION":"us-central1","PROJECT_ID":"trinder-4pp","STORAGE_BUCKET":"trinder-4pp.appspot.com"},"runtime":"nodejs16","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"212be4d9-6043-4968-b5ec-ba002454b451","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"secretEnvironmentVariables":[{"key":"ALGOLIA_API_KEY","projectId":"432564282535","secret":"firestore-algolia-search-ALGOLIA_API_KEY","version":"1"}],"buildName":"projects/432564282535/locations/us-central1/builds/212be4d9-6043-4968-b5ec-ba002454b451","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/trinder-4pp/locations/us-central1/functions/ext-firestore-algolia-search-executeIndexOperation","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/808836e874de0e15c6d20798d9ee3281e47a829d8cae6db1f5489237bd5cb9ea","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/trinder-4pp/databases/(default)/documents/adverts/{documentID}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"executeIndexOperation","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-algolia-search@trinder-4pp.iam.gserviceaccount.com","updateTime":"2023-05-24T20:20:27.649Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-algolia-search","goog-firebase-ext":"firestore-algolia-search","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-algolia-search"},"environmentVariables":{"ALGOLIA_APP_ID":"5RDUI73FEQ","ALGOLIA_INDEX_NAME":"adverts","COLLECTION_PATH":"adverts","DATABASE_INSTANCE":"","DATABASE_URL":"","DO_FULL_INDEXING":"true","EXT_INSTANCE_ID":"firestore-algolia-search","FIREBASE_CONFIG":"{\"projectId\":\"trinder-4pp\",\"databaseURL\":\"\",\"storageBucket\":\"trinder-4pp.appspot.com\"}","FORCE_DATA_SYNC":"yes","GCLOUD_PROJECT":"trinder-4pp","LOCATION":"us-central1","PROJECT_ID":"trinder-4pp","STORAGE_BUCKET":"trinder-4pp.appspot.com"},"runtime":"nodejs16","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"c3db9f2c-3ace-4be4-8107-ff12df80c7af","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"secretEnvironmentVariables":[{"key":"ALGOLIA_API_KEY","projectId":"432564282535","secret":"firestore-algolia-search-ALGOLIA_API_KEY","version":"1"}],"buildName":"projects/432564282535/locations/us-central1/builds/c3db9f2c-3ace-4be4-8107-ff12df80c7af","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/trinder-4pp/locations/us-central1/functions/ext-firestore-algolia-search-forum-executeFullIndexOperation","description":"Loads all the data from your FireStore database into Algolia","sourceArchiveUrl":"gs://firebase-mod-sources-prod/5c9f8ff5a9fa806df42b59246359c83dc38eeccd186af820d5c370e306f033b0","httpsTrigger":{"url":"https://us-central1-trinder-4pp.cloudfunctions.net/ext-firestore-algolia-search-forum-executeFullIndexOperation","securityLevel":"SECURE_OPTIONAL"},"status":"ACTIVE","entryPoint":"executeFullIndexOperation","timeout":"540s","availableMemoryMb":1024,"serviceAccountEmail":"ext-firestore-algolia-sea-q0jw@trinder-4pp.iam.gserviceaccount.com","updateTime":"2023-05-26T16:53:23.482Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-algolia-search-forum","goog-firebase-ext":"firestore-algolia-search","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-algolia-search-forum"},"environmentVariables":{"ALGOLIA_APP_ID":"5RDUI73FEQ","ALGOLIA_INDEX_NAME":"topicComments","COLLECTION_PATH":"topicComments","DATABASE_INSTANCE":"","DATABASE_URL":"","DO_FULL_INDEXING":"true","EXT_INSTANCE_ID":"firestore-algolia-search-forum","FIREBASE_CONFIG":"{\"projectId\":\"trinder-4pp\",\"databaseURL\":\"\",\"storageBucket\":\"trinder-4pp.appspot.com\"}","FORCE_DATA_SYNC":"yes","GCLOUD_PROJECT":"trinder-4pp","LOCATION":"us-central1","PROJECT_ID":"trinder-4pp","STORAGE_BUCKET":"trinder-4pp.appspot.com"},"runtime":"nodejs16","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"cffab1ab-3e36-4048-bacc-a01bfba73c72","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"secretEnvironmentVariables":[{"key":"ALGOLIA_API_KEY","projectId":"432564282535","secret":"firestore-algolia-search-forum-ALGOLIA_API_KEY","version":"1"}],"buildName":"projects/432564282535/locations/us-central1/builds/cffab1ab-3e36-4048-bacc-a01bfba73c72","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/trinder-4pp/locations/us-central1/functions/ext-firestore-algolia-search-forum-executeIndexOperation","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/5c9f8ff5a9fa806df42b59246359c83dc38eeccd186af820d5c370e306f033b0","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/trinder-4pp/databases/(default)/documents/topicComments/{documentID}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"executeIndexOperation","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-algolia-sea-q0jw@trinder-4pp.iam.gserviceaccount.com","updateTime":"2023-05-26T16:53:33.499Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-algolia-search-forum","goog-firebase-ext":"firestore-algolia-search","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-algolia-search-forum"},"environmentVariables":{"ALGOLIA_APP_ID":"5RDUI73FEQ","ALGOLIA_INDEX_NAME":"topicComments","COLLECTION_PATH":"topicComments","DATABASE_INSTANCE":"","DATABASE_URL":"","DO_FULL_INDEXING":"true","EXT_INSTANCE_ID":"firestore-algolia-search-forum","FIREBASE_CONFIG":"{\"projectId\":\"trinder-4pp\",\"databaseURL\":\"\",\"storageBucket\":\"trinder-4pp.appspot.com\"}","FORCE_DATA_SYNC":"yes","GCLOUD_PROJECT":"trinder-4pp","LOCATION":"us-central1","PROJECT_ID":"trinder-4pp","STORAGE_BUCKET":"trinder-4pp.appspot.com"},"runtime":"nodejs16","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"6219cb8a-37ae-418c-b79f-b5f77b55eb3a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"secretEnvironmentVariables":[{"key":"ALGOLIA_API_KEY","projectId":"432564282535","secret":"firestore-algolia-search-forum-ALGOLIA_API_KEY","version":"1"}],"buildName":"projects/432564282535/locations/us-central1/builds/6219cb8a-37ae-418c-b79f-b5f77b55eb3a","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/trinder-4pp/locations/us-central1/functions/ext-firestore-stripe-payments-createCheckoutSession","description":"Creates a Checkout session to collect the customer's payment details.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/cf7d5a0cf8fa1375b009b304631f059e5ef84fad65c179266e1889d092765f0c","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/trinder-4pp/databases/(default)/documents/customers/{uid}/checkout_sessions/{id}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"createCheckoutSession","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-stripe-payments@trinder-4pp.iam.gserviceaccount.com","updateTime":"2023-05-24T12:08:12.585Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-stripe-payments","goog-firebase-ext":"firestore-stripe-payments","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-stripe-payments"},"environmentVariables":{"CREATE_CHECKOUT_SESSION_MIN_INSTANCES":"0","CUSTOMERS_COLLECTION":"customers","DATABASE_INSTANCE":"","DATABASE_URL":"","DELETE_STRIPE_CUSTOMERS":"Auto delete","EXT_INSTANCE_ID":"firestore-stripe-payments","FIREBASE_CONFIG":"{\"projectId\":\"trinder-4pp\",\"databaseURL\":\"\",\"storageBucket\":\"trinder-4pp.appspot.com\"}","GCLOUD_PROJECT":"trinder-4pp","LOCATION":"us-central1","PRODUCTS_COLLECTION":"products","PROJECT_ID":"trinder-4pp","STORAGE_BUCKET":"trinder-4pp.appspot.com","STRIPE_CONFIG_COLLECTION":"configuration","SYNC_USERS_ON_CREATE":"Sync"},"runtime":"nodejs14","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"708d73a1-b92c-4205-82f5-c81b3358f255","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"secretEnvironmentVariables":[{"key":"STRIPE_API_KEY","projectId":"432564282535","secret":"firestore-stripe-payments-STRIPE_API_KEY-xel6","version":"1"},{"key":"STRIPE_WEBHOOK_SECRET","projectId":"432564282535","secret":"firestore-stripe-payments-STRIPE_WEBHOOK_SECRET","version":"2"}],"buildName":"projects/432564282535/locations/us-central1/builds/708d73a1-b92c-4205-82f5-c81b3358f255","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/trinder-4pp/locations/us-central1/functions/ext-firestore-stripe-payments-createCustomer","description":"Creates a Stripe customer object when a new user signs up.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/cf7d5a0cf8fa1375b009b304631f059e5ef84fad65c179266e1889d092765f0c","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/trinder-4pp","service":"firebaseauth.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"createCustomer","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-stripe-payments@trinder-4pp.iam.gserviceaccount.com","updateTime":"2023-05-24T12:10:32.938Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-stripe-payments","goog-firebase-ext":"firestore-stripe-payments","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-stripe-payments"},"environmentVariables":{"CREATE_CHECKOUT_SESSION_MIN_INSTANCES":"0","CUSTOMERS_COLLECTION":"customers","DATABASE_INSTANCE":"","DATABASE_URL":"","DELETE_STRIPE_CUSTOMERS":"Auto delete","EXT_INSTANCE_ID":"firestore-stripe-payments","FIREBASE_CONFIG":"{\"projectId\":\"trinder-4pp\",\"databaseURL\":\"\",\"storageBucket\":\"trinder-4pp.appspot.com\"}","GCLOUD_PROJECT":"trinder-4pp","LOCATION":"us-central1","PRODUCTS_COLLECTION":"products","PROJECT_ID":"trinder-4pp","STORAGE_BUCKET":"trinder-4pp.appspot.com","STRIPE_CONFIG_COLLECTION":"configuration","SYNC_USERS_ON_CREATE":"Sync"},"runtime":"nodejs14","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"fe401207-def9-4ddc-a03b-64b16068b485","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"secretEnvironmentVariables":[{"key":"STRIPE_API_KEY","projectId":"432564282535","secret":"firestore-stripe-payments-STRIPE_API_KEY-xel6","version":"1"},{"key":"STRIPE_WEBHOOK_SECRET","projectId":"432564282535","secret":"firestore-stripe-payments-STRIPE_WEBHOOK_SECRET","version":"2"}],"buildName":"projects/432564282535/locations/us-central1/builds/fe401207-def9-4ddc-a03b-64b16068b485","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/trinder-4pp/locations/us-central1/functions/ext-firestore-stripe-payments-createPortalLink","description":"Creates links to the customer portal for the user to manage their payment & subscription details.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/cf7d5a0cf8fa1375b009b304631f059e5ef84fad65c179266e1889d092765f0c","httpsTrigger":{"url":"https://us-central1-trinder-4pp.cloudfunctions.net/ext-firestore-stripe-payments-createPortalLink","securityLevel":"SECURE_OPTIONAL"},"status":"ACTIVE","entryPoint":"createPortalLink","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-stripe-payments@trinder-4pp.iam.gserviceaccount.com","updateTime":"2023-05-24T12:09:37.465Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-stripe-payments","goog-firebase-ext":"firestore-stripe-payments","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-stripe-payments"},"environmentVariables":{"CREATE_CHECKOUT_SESSION_MIN_INSTANCES":"0","CUSTOMERS_COLLECTION":"customers","DATABASE_INSTANCE":"","DATABASE_URL":"","DELETE_STRIPE_CUSTOMERS":"Auto delete","EXT_INSTANCE_ID":"firestore-stripe-payments","FIREBASE_CONFIG":"{\"projectId\":\"trinder-4pp\",\"databaseURL\":\"\",\"storageBucket\":\"trinder-4pp.appspot.com\"}","GCLOUD_PROJECT":"trinder-4pp","LOCATION":"us-central1","PRODUCTS_COLLECTION":"products","PROJECT_ID":"trinder-4pp","STORAGE_BUCKET":"trinder-4pp.appspot.com","STRIPE_CONFIG_COLLECTION":"configuration","SYNC_USERS_ON_CREATE":"Sync"},"runtime":"nodejs14","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"01f2dc53-f179-468f-a222-a383cc8a4dee","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"secretEnvironmentVariables":[{"key":"STRIPE_API_KEY","projectId":"432564282535","secret":"firestore-stripe-payments-STRIPE_API_KEY-xel6","version":"1"},{"key":"STRIPE_WEBHOOK_SECRET","projectId":"432564282535","secret":"firestore-stripe-payments-STRIPE_WEBHOOK_SECRET","version":"2"}],"buildName":"projects/432564282535/locations/us-central1/builds/01f2dc53-f179-468f-a222-a383cc8a4dee","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/trinder-4pp/locations/us-central1/functions/ext-firestore-stripe-payments-handleWebhookEvents","description":"Handles Stripe webhook events to keep subscription statuses in sync and update custom claims.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/cf7d5a0cf8fa1375b009b304631f059e5ef84fad65c179266e1889d092765f0c","httpsTrigger":{"url":"https://us-central1-trinder-4pp.cloudfunctions.net/ext-firestore-stripe-payments-handleWebhookEvents","securityLevel":"SECURE_OPTIONAL"},"status":"ACTIVE","entryPoint":"handleWebhookEvents","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-stripe-payments@trinder-4pp.iam.gserviceaccount.com","updateTime":"2023-05-24T12:10:17.695Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-stripe-payments","goog-firebase-ext":"firestore-stripe-payments","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-stripe-payments"},"environmentVariables":{"CREATE_CHECKOUT_SESSION_MIN_INSTANCES":"0","CUSTOMERS_COLLECTION":"customers","DATABASE_INSTANCE":"","DATABASE_URL":"","DELETE_STRIPE_CUSTOMERS":"Auto delete","EXT_INSTANCE_ID":"firestore-stripe-payments","FIREBASE_CONFIG":"{\"projectId\":\"trinder-4pp\",\"databaseURL\":\"\",\"storageBucket\":\"trinder-4pp.appspot.com\"}","GCLOUD_PROJECT":"trinder-4pp","LOCATION":"us-central1","PRODUCTS_COLLECTION":"products","PROJECT_ID":"trinder-4pp","STORAGE_BUCKET":"trinder-4pp.appspot.com","STRIPE_CONFIG_COLLECTION":"configuration","SYNC_USERS_ON_CREATE":"Sync"},"runtime":"nodejs14","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"c4e5039d-d600-4c18-8f9b-d998c81b2d0d","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"secretEnvironmentVariables":[{"key":"STRIPE_API_KEY","projectId":"432564282535","secret":"firestore-stripe-payments-STRIPE_API_KEY-xel6","version":"1"},{"key":"STRIPE_WEBHOOK_SECRET","projectId":"432564282535","secret":"firestore-stripe-payments-STRIPE_WEBHOOK_SECRET","version":"2"}],"buildName":"projects/432564282535/locations/us-central1/builds/c4e5039d-d600-4c18-8f9b-d998c81b2d0d","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/trinder-4pp/locations/us-central1/functions/ext-firestore-stripe-payments-onCustomerDataDeleted","description":"Deletes the Stripe customer object and cancels all their subscriptions when the customer doc in Cloud Firestore is deleted.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/cf7d5a0cf8fa1375b009b304631f059e5ef84fad65c179266e1889d092765f0c","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.delete","resource":"projects/trinder-4pp/databases/(default)/documents/customers/{uid}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"onCustomerDataDeleted","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-stripe-payments@trinder-4pp.iam.gserviceaccount.com","updateTime":"2023-05-24T12:09:12.497Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-stripe-payments","goog-firebase-ext":"firestore-stripe-payments","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-stripe-payments"},"environmentVariables":{"CREATE_CHECKOUT_SESSION_MIN_INSTANCES":"0","CUSTOMERS_COLLECTION":"customers","DATABASE_INSTANCE":"","DATABASE_URL":"","DELETE_STRIPE_CUSTOMERS":"Auto delete","EXT_INSTANCE_ID":"firestore-stripe-payments","FIREBASE_CONFIG":"{\"projectId\":\"trinder-4pp\",\"databaseURL\":\"\",\"storageBucket\":\"trinder-4pp.appspot.com\"}","GCLOUD_PROJECT":"trinder-4pp","LOCATION":"us-central1","PRODUCTS_COLLECTION":"products","PROJECT_ID":"trinder-4pp","STORAGE_BUCKET":"trinder-4pp.appspot.com","STRIPE_CONFIG_COLLECTION":"configuration","SYNC_USERS_ON_CREATE":"Sync"},"runtime":"nodejs14","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"d5f03e53-bf89-49ed-82df-93488a249237","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"secretEnvironmentVariables":[{"key":"STRIPE_API_KEY","projectId":"432564282535","secret":"firestore-stripe-payments-STRIPE_API_KEY-xel6","version":"1"},{"key":"STRIPE_WEBHOOK_SECRET","projectId":"432564282535","secret":"firestore-stripe-payments-STRIPE_WEBHOOK_SECRET","version":"2"}],"buildName":"projects/432564282535/locations/us-central1/builds/d5f03e53-bf89-49ed-82df-93488a249237","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/trinder-4pp/locations/us-central1/functions/ext-firestore-stripe-payments-onUserDeleted","description":"Deletes the Stripe customer object and cancels all their subscriptions when the user is deleted in Firebase Authentication.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/cf7d5a0cf8fa1375b009b304631f059e5ef84fad65c179266e1889d092765f0c","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.delete","resource":"projects/trinder-4pp","service":"firebaseauth.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"onUserDeleted","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-stripe-payments@trinder-4pp.iam.gserviceaccount.com","updateTime":"2023-05-24T12:09:59.008Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-stripe-payments","goog-firebase-ext":"firestore-stripe-payments","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-stripe-payments"},"environmentVariables":{"CREATE_CHECKOUT_SESSION_MIN_INSTANCES":"0","CUSTOMERS_COLLECTION":"customers","DATABASE_INSTANCE":"","DATABASE_URL":"","DELETE_STRIPE_CUSTOMERS":"Auto delete","EXT_INSTANCE_ID":"firestore-stripe-payments","FIREBASE_CONFIG":"{\"projectId\":\"trinder-4pp\",\"databaseURL\":\"\",\"storageBucket\":\"trinder-4pp.appspot.com\"}","GCLOUD_PROJECT":"trinder-4pp","LOCATION":"us-central1","PRODUCTS_COLLECTION":"products","PROJECT_ID":"trinder-4pp","STORAGE_BUCKET":"trinder-4pp.appspot.com","STRIPE_CONFIG_COLLECTION":"configuration","SYNC_USERS_ON_CREATE":"Sync"},"runtime":"nodejs14","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"00729955-b003-4d96-8fb8-d9b5487c298a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"secretEnvironmentVariables":[{"key":"STRIPE_API_KEY","projectId":"432564282535","secret":"firestore-stripe-payments-STRIPE_API_KEY-xel6","version":"1"},{"key":"STRIPE_WEBHOOK_SECRET","projectId":"432564282535","secret":"firestore-stripe-payments-STRIPE_WEBHOOK_SECRET","version":"2"}],"buildName":"projects/432564282535/locations/us-central1/builds/00729955-b003-4d96-8fb8-d9b5487c298a","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/trinder-4pp/locations/us-central1/functions/purchasePackageCreate","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/trinder-4pp/databases/(default)/documents/customers/{customerId}/subscriptions/{subscriptionId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"purchasePackageCreate","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"trinder-4pp@appspot.gserviceaccount.com","updateTime":"2023-06-02T16:20:51.572Z","versionId":"13","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ecff84d21f78bf3bd36c5c46f7dc9bdd22a1e50b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-1051769839353.us-central1.cloudfunctions.appspot.com/6fefdb98-121f-45b8-b844-58c7a66d4f4e.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"trinder-4pp\",\"storageBucket\":\"trinder-4pp.appspot.com\",\"locationId\":\"europe-west\"}","GCLOUD_PROJECT":"trinder-4pp"},"runtime":"nodejs16","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"5c388f4b-cd77-475a-897a-59c34065c9d2","buildName":"projects/432564282535/locations/us-central1/builds/5c388f4b-cd77-475a-897a-59c34065c9d2","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/trinder-4pp/locations/us-central1/functions/purchasePackageUpdate","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","resource":"projects/trinder-4pp/databases/(default)/documents/customers/{customerId}/subscriptions/{subscriptionId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"purchasePackageUpdate","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"trinder-4pp@appspot.gserviceaccount.com","updateTime":"2023-06-02T16:20:02.992Z","versionId":"13","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ecff84d21f78bf3bd36c5c46f7dc9bdd22a1e50b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-1051769839353.us-central1.cloudfunctions.appspot.com/6fefdb98-121f-45b8-b844-58c7a66d4f4e.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"trinder-4pp\",\"storageBucket\":\"trinder-4pp.appspot.com\",\"locationId\":\"europe-west\"}","GCLOUD_PROJECT":"trinder-4pp"},"runtime":"nodejs16","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"5c388f4b-cd77-475a-897a-59c34065c9d2","buildName":"projects/432564282535/locations/us-central1/builds/5c388f4b-cd77-475a-897a-59c34065c9d2","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2023-06-04T17:59:46.618Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/trinder-4pp/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-06-04T17:59:47.245Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/trinder-4pp/locations/-/functions 200
[debug] [2023-06-04T17:59:47.245Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/trinder-4pp/locations/-/functions {}
[debug] [2023-06-04T17:59:47.257Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp [none]
[debug] [2023-06-04T17:59:47.604Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp 200
[debug] [2023-06-04T17:59:47.604Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp {"projectId":"trinder-4pp","projectNumber":"432564282535","displayName":"trinder-4pp","name":"projects/trinder-4pp","resources":{"hostingSite":"trinder-4pp","storageBucket":"trinder-4pp.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_ffb7805e-3de1-447b-8c0e-7c92b3dd9c1b"}
[debug] [2023-06-04T17:59:47.604Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp [none]
[debug] [2023-06-04T17:59:47.895Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp 200
[debug] [2023-06-04T17:59:47.896Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp {"projectId":"trinder-4pp","projectNumber":"432564282535","displayName":"trinder-4pp","name":"projects/trinder-4pp","resources":{"hostingSite":"trinder-4pp","storageBucket":"trinder-4pp.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_ffb7805e-3de1-447b-8c0e-7c92b3dd9c1b"}
[debug] [2023-06-04T17:59:47.896Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp [none]
[debug] [2023-06-04T17:59:48.196Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp 200
[debug] [2023-06-04T17:59:48.197Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp {"projectId":"trinder-4pp","projectNumber":"432564282535","displayName":"trinder-4pp","name":"projects/trinder-4pp","resources":{"hostingSite":"trinder-4pp","storageBucket":"trinder-4pp.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_ffb7805e-3de1-447b-8c0e-7c92b3dd9c1b"}
[debug] [2023-06-04T17:59:48.197Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp [none]
[debug] [2023-06-04T17:59:48.525Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp 200
[debug] [2023-06-04T17:59:48.525Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp {"projectId":"trinder-4pp","projectNumber":"432564282535","displayName":"trinder-4pp","name":"projects/trinder-4pp","resources":{"hostingSite":"trinder-4pp","storageBucket":"trinder-4pp.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_ffb7805e-3de1-447b-8c0e-7c92b3dd9c1b"}
[debug] [2023-06-04T17:59:48.526Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp [none]
[debug] [2023-06-04T17:59:48.904Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp 200
[debug] [2023-06-04T17:59:48.904Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp {"projectId":"trinder-4pp","projectNumber":"432564282535","displayName":"trinder-4pp","name":"projects/trinder-4pp","resources":{"hostingSite":"trinder-4pp","storageBucket":"trinder-4pp.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_ffb7805e-3de1-447b-8c0e-7c92b3dd9c1b"}
[debug] [2023-06-04T17:59:48.905Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp [none]
[debug] [2023-06-04T17:59:49.246Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp 200
[debug] [2023-06-04T17:59:49.246Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp {"projectId":"trinder-4pp","projectNumber":"432564282535","displayName":"trinder-4pp","name":"projects/trinder-4pp","resources":{"hostingSite":"trinder-4pp","storageBucket":"trinder-4pp.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_ffb7805e-3de1-447b-8c0e-7c92b3dd9c1b"}
[debug] [2023-06-04T17:59:49.247Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp [none]
[debug] [2023-06-04T17:59:49.546Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp 200
[debug] [2023-06-04T17:59:49.546Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/trinder-4pp {"projectId":"trinder-4pp","projectNumber":"432564282535","displayName":"trinder-4pp","name":"projects/trinder-4pp","resources":{"hostingSite":"trinder-4pp","storageBucket":"trinder-4pp.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_ffb7805e-3de1-447b-8c0e-7c92b3dd9c1b"}
[debug] [2023-06-04T17:59:49.551Z] >>> [apiv2][query] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/trinder-4pp/versions [none]
[debug] [2023-06-04T17:59:49.551Z] >>> [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/trinder-4pp/versions {"status":"CREATED","labels":{"deployment-tool":"cli-firebase"}}
